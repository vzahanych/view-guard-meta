# User VM API Configuration for Docker Compose (PoC)
user_vm_api:
  orchestrator:
    log_level: "info"
    log_format: "text"
    data_dir: "/app/data"
    config_file: ""

  wireguard_server:
    enabled: true
    interface: "wg0"
    listen_port: 51820
    # WireGuard keys will be generated on first start
    config_path: "/app/data/wireguard/wg0.conf"

  event_cache:
    enabled: true
    database_path: "/app/data/events.db"
    retention_days: 30
    cleanup_interval: 24h

  stream_relay:
    enabled: true
    listen_addr: ":8080"
    # Token validation disabled for PoC (no SaaS)

  storage_sync:
    enabled: true
    provider: "s3"  # MinIO for PoC (using AWS Go SDK)
    provider_config:
      endpoint: "http://minio:9000"
      # Each camera gets its own bucket: camera-{camera_id}
      bucket_prefix: "camera-"  # Buckets: camera-rtsp-192.168.1.100, camera-usb-usb-3-9, etc.
      region: "us-east-1"
      access_key_id: "minioadmin"
      secret_access_key: "minioadmin"
      use_ssl: false
    quota_gb_per_camera: 10  # Quota per camera bucket
    retention_days: 90

  ai_orchestrator:
    enabled: true
    model_catalog_path: "/app/data/models"
    training_enabled: false  # Disabled for PoC
    training_service: ""

  event_analyzer:
    enabled: true
    inference_service: ""  # Basic analysis for PoC
    severity_threshold: 0.7

  telemetry_aggregator:
    enabled: true
    aggregation_interval: 1m
    forward_interval: 5m

  # Management Server disabled for PoC
  management_server:
    enabled: false
    endpoint: ""
    mtls: false

log:
  level: "info"
  format: "text"
  output: "stdout"

